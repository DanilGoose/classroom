name: classroom

services:
  app:
    build:
      context: .
      dockerfile: Dockerfile
      args:
        VITE_API_URL: /api
    ports:
      - "8000:8000"
    volumes:
      - ./backend/uploads:/app/uploads
      - db_data:/app/db
    environment:
      - DATABASE_URL=sqlite:////app/db/classroom.db
      - SECRET_KEY=${SECRET_KEY:-your-secret-key-change-in-production-please-use-long-random-string}
      - ALGORITHM=HS256
      - ACCESS_TOKEN_EXPIRE_MINUTES=1440
      - UPLOAD_DIR=./uploads
      - MAX_FILE_SIZE_MB=50
    restart: unless-stopped
    container_name: classroom-app

volumes:
  db_data:
